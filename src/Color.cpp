#include "Color.h"

Color::Color()
{
	mColor = al_map_rgb(255,255,255);
}

Color::Color(float r, float g, float b, float a)
{
		mColor = al_map_rgba_f(r,g,b,a);
}

Color::Color(unsigned char r, unsigned char g, unsigned char b, unsigned char a)
{
		mColor = al_map_rgba(r,g,b,a);
}

Color::Color(float r, float g, float b)
{
		mColor = al_map_rgb_f(r,g,b);
}

Color::Color(unsigned char r, unsigned char g, unsigned char b)
{
		mColor = al_map_rgb(r,g,b);
}

Color::Color(float brightness)
{
		mColor = al_map_rgb_f(brightness,brightness,brightness);
}

Color::Color(unsigned char brightness)
{
		mColor = al_map_rgb(brightness,brightness,brightness);
}

Color::~Color()
{

}

void Color::set(float r, float g, float b, float a)
{
		mColor = al_map_rgba_f(r,g,b,a);
}

void Color::set(unsigned char r, unsigned char g, unsigned char b, unsigned char a)
{
		mColor = al_map_rgba(r,g,b,a);
}

void Color::set(float r, float g, float b)
{
		mColor = al_map_rgba_f(r,g,b,0.0);
}

void Color::set(unsigned char r, unsigned char g, unsigned char b)
{
		mColor = al_map_rgba(r,g,b,0.0);
}

inline const unsigned char Color::red()
{
	/*unsigned char *red, *junk;
	al_unmap_rgba(mColor,red,junk,junk,junk);
	return *red;*/

	return (const unsigned char)(floor((mColor.r*255.0) + 0.5));
}

inline const unsigned char Color::green()
{
	/*unsigned char *green, *junk;
	al_unmap_rgba(mColor,junk,green,junk,junk);
	return *green;*/

	return (const unsigned char)(floor((mColor.g*255.0) + 0.5));
}

inline const unsigned char Color::blue()
{
	/*unsigned char *blue, *junk;
	al_unmap_rgba(mColor,blue,junk,junk,junk);
	return *blue;*/

	return (const unsigned char)(floor((mColor.b*255.0) + 0.5));
}

inline const unsigned char Color::alpha()
{
	/*unsigned char *alpha, *junk;
	al_unmap_rgba(mColor,junk,junk,junk,alpha);
	return *alpha;*/

	return (const unsigned char)(floor(mColor.a*255.0) + 0.5);
}

inline void Color::setRed(unsigned char r)
{
	mColor.r = float(r)/255.0;
}

inline void Color::setGreen(unsigned char g)
{
	mColor.g = float(g)/255.0;
}

inline void Color::setBlue(unsigned char b)
{
	mColor.b = float(b)/255.0;
}

inline void Color::setAlpha(unsigned char a)
{
	mColor.a = float(a)/255.0;
}

const ALLEGRO_COLOR& Color::getAllegroColor()
{
	return mColor;
}